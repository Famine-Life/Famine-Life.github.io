---
layout: post

title: 《三体》中的逻辑门

cover: /img/cover/light-bulb.jpg

tags: ['三体','逻辑门']

---

### 前言
三体作者真的厉害，来看看ta在三体中写的逻辑门演示。

### 原文
《三体》第二级的场景开始时没有大的变化，仍旧是诡异寒冷的黎明，仍是那座大金字塔，但这次，金字塔的形状又恢复到东方样式。

汪淼听到一阵清脆的金属撞击声，这声音反而更衬托了这寒冷黎明的寂静。他循声望去，看到金字塔根基处有两个黑影在闪动，灰暗的晨光中有金属的寒光在黑影间闪耀，那是两个人在斗剑。等目光适应了这昏暗后，汪淼大致看清了那两个格斗者的模样，从金字塔的形状看这应该是在东方国度，但那却是两个欧洲人，穿戴大致是欧洲十六七世纪的样子。格斗中个子矮的那人低头闪过一剑，银白色的假发掉在地上。几个回合之后，又有一个人绕过金字塔的拐角奔了过来，试图劝止这场格斗，但双方那呼啸的剑使他不敢上前，他大喊道：

“停下来！你们这两个无聊的人！你们就没有一点责任心吗？如果世界文明没有未来，你们那点荣誉算个屁！”

两名剑客谁都不理他，专心于他们的战斗。个子高的那位突然痛叫一声，剑“当啷”一声掉到地上，捂着胳膊跑了。另一位追了几步，冲着失利者的背影啐了一口。

“呸，无耻之徒！”他弯腰拾起了自己的假发，抬头看到了汪淼，就用剑指着逃跑者的方向说，\"他居然说微积分是他发明的！\"说着他戴上假发，一只手捂着胸口对汪淼行了个欧式的鞠躬礼，“伊萨克。牛顿。”

“那么跑了的那一位是莱布尼茨了？”汪淼问。

“是他，无耻之徒！呸！！其实我根本不屑于同他争夺这项名誉，力学三定律的发现，就已经使我成为仅次于上帝的人，从星球运行到细胞分裂，无不遵从于这三个伟大的定律。现在有了微积分这个强有力的数学工具，以三定律为基础，掌握三个太阳运行的规律指日可待。”

“没有那么简单。”劝架的人说，“你考虑过计算量吗？我看过你列出的那一系列微分方程，好像不可能求出解析解，只能求数值解，计算量之大，就是全世界的数学家不停地工作，到世界末日也算不完。当然，如果不能尽快掌握太阳运行的规律，世界未日也不是太远了。”他说着也向汪淼鞠躬，姿势更现代些。“冯·诺伊曼（注：现代计算机技术的莫基者）。”

“你带我们千里迢迢来东方，不就是为了解决这些方程的计算问题吗？”牛顿说，然后转向汪淼，“同来的还有维纳（注：控制论创始人）和刚才那个败类，在马达加斯加遭遇海盗时，维纳为掩护我们只身阻击海盗，英勇牺牲。”

“计算机需要到东方来制造吗？”汪淼不解地问冯·诺伊曼。

冯·诺伊曼和牛顿面面相觑，“计算机？计算机器？！有这种东西？”

“您不知道计算机？那，你打算用什么来进行那些海量计算呢？”

冯·诺伊曼瞪大眼晴看着汪淼，似乎很不理解他的问题，“用什么？当然是用人了！这世界上除了人之外难道真的还有什么东西会计算吗？”

“可您说过，全世界的数学家都不够用。”

“我们不会用数学家的，我们用普通人，普通劳动力，但需要的数量巨大。最少要三千万人！这是数学的人海战术。”

“普通人？三千万？！”汪淼惊奇万分，“我要是没理解错，这是一个百分之九十的人都是文盲的时代，您要找三千万个懂微积分的？”

“有一个川军的笑话你听说过吗？”冯。诺伊曼掏出一枝粗雪茄，咬开头点了起来，“士兵们练队列，因为文化水平极低，连军官喊一二一都听不懂，于是军官想了一个办法，让每个士兵左脚穿草鞋右脚穿布鞋。走队列时喊：草孩布孩、草孩布孩……（四川话）我们需要这样水平的士兵就行，但要三干万。”

听到这个近现代的笑话，汪淼知道面前这位不是程序而是人，而且几乎可以肯定是中国人。

“这样庞大的军队，难以想象。”汪淼摇摇头说。

“所以我们来找秦始皇。”牛顿指指金字塔说。

“现在这里还是他在统治吗？”汪淼四下打量了一下问，看到守卫金字塔入口的士兵确买穿看秦代简洁的软甲兵服，拿着长戟。对《三体》中历史的错乱，汪淼已经见多不怪了。

“整个世界都要由他统治了，他拥有一支三干多万人的大军，准备去征服欧洲。好了，让我们去见他吧。”冯。诺伊曼一手指着金字塔入口说，然后又指着牛顿说，“把剑扔了！”

牛顿“当啷”一声扔下剑，三人走进入口，走到门廊尽头就要进入大殿时，一名卫士坚持让他们都脱光衣服，牛顿抗议说我们是著名学者，没有暗器！双方僵持之时，大殿内传来一声低沉的男音：“是发现三定律的西洋人吗？让他们进来。”走进大殿，三人看到秦嬴政正在殿中踱着步。长衣的后摆和那柄著名的长剑都拖在地上。他转身看着三位学者，汪淼立刻发现，那是纣王和格里高利教皇的眼睛。

“你们的来意我知道了，你们是西洋人，干吗不去找凯撒？他的帝国疆域广大，应该能凑齐三千万大军吧。”

“可是尊敬的皇帝，您知道那是一支什么样的军队吗？您知道那个帝国现在是什么样子吗？在宏伟的罗马城内，穿过城市的河流都被严重污染，你知道是什么所致吗？”

“军工企业？”

“不不，伟大的皇帝，是罗马人暴饮暴食后的呕吐物！那些贵族赴宴时餐桌下放着担架，吃得走不动时就让仆人抬回去。整个帝国陷入荒淫无度的泥潭中不可自拔，就是组成了三千万大军，也不可能具备进行这种伟大计算的素质和体力。”

“这朕知道，”秦始皇说，“但凯撒正在清醒过来，在重整军备，西洋人的智慧也是件可怕的东西，你们并不比东方人聪明，但想对了路子，比如他能看出太阳有三个，你能想出那三条定律，都是很了不起的，东方人暂时做不到。而我现在还没有能力远征西洋，我的船不行，从陆上走。漫长的供应线无法维持。”

“所以，伟大的皇帝，您的帝国还要发展！”冯·诺伊曼不失时机地说，“如果掌握了太阳运行的规律，你就能充分利用每一个恒纪元，同时避免乱纪元带来的损失，这样发展速度比西洋要快得多。请你相信我们，我们是学者，只要能用三定律和微积分准确预测太阳的运行，不在乎谁征服统治世界。”

“朕当然需要预测太阳的运行，但你们让我集结三千万大军，至少要首先向朕演示一下这种计算如何进行吧。”

“陛下，请给我三个士兵，我将为您演示。”冯·诺伊曼兴奋起来。

“三个？只要三个吗？朕可以轻易给你三千个。”秦始皇用不信任的目光扫视看着冯·诺伊曼。

“伟大的陛下，您刚才提到东方人在科学思维上的缺陷，就是因为你们没有意识到，复杂的宇宙万物其实是由最简单的单元构成的。我只要三个，陛下。”

秦始皇挥手召来了三名士兵，他们都很年轻，与秦国的其他士兵一样，一举一动像听从命令的机器。

“我不知道你们的名字，”冯。诺伊曼拍拍前两个士兵的肩，**“你们两个负责信号输入，就叫‘入1’、‘入2’吧。”他又指指最后一名士兵，“你，负责信号输出。就叫‘出’吧，”他伸手拨动三名士兵，“这样，站成一个三角形，出是顶端，入1和入2是底边。”**

“哼，你让他们成楔形攻击队形不就行了？”秦始皇轻蔑地看着冯·诺伊曼。牛顿不知从什么地方掏出六面小旗。三白三黑，冯·诺伊曼接过来分给三名士兵，每人一白一黑，说：“**白色代表0，黑色代表1**。好，现在听我说，出，**你转身看着入1和入2，如果他们都举黑旗，你就举黑旗，其他的情况你都举白旗，这种情况有三种：入l白，入2黑；入l黑，入2白；入1、入2都是白。”**

“我觉得你应该换种颜色，白旗代表投降。”秦始皇说。

兴奋中的冯。诺伊曼没有理睬皇帝，对三名士兵大声命令：“现在开始运行！入1入2，你们每人随意举旗，好，举！好，再举！举！”

入1和入2同时举了三次旗，第一次是黑黑，第二次是白黑，第三次是黑白。出都进行了正确反应，分别举起了一次黑和两次白。

“很好，运行正确，陛下，您的士兵很聪明！”

“这事儿傻瓜都会，你能告诉联，他们在干什么吗？”秦始皇一脸困惑地问。

“**这三个人组成了一个计算系统的部件，是门部件的一种，叫‘与门’**。”冯·诺伊曼说完停了一会儿，好让皇帝理解。

秦始皇面无表情地说：“联是够郁闷的，好，继续。”

冯·诺伊曼转向排成三角阵的三名士兵：“**我们构建下一个部件。你，出，只要看到入1和入2中有一个人举黑旗，你就举黑旗，这种情况有三种组合——黑黑、白黑、黑白，剩下的一种情况——白白，你就举白旗。明白了吗？**好孩子，你真聪明，门部件的正确运行你是关键，好好干，皇帝会奖赏你的！下面开始运行：举！好，再举！再举！好极了，运行正常，陛下，**这个门部件叫或门。”**

然后，冯·诺伊曼又用三名士兵构建了与非门、或非门、异或门、同或门和三态门，最后只用两名士兵构建了最简单的非门，出总是举与入颜色相反的旗。

#### 以上片段截取自《三体》，由于舍不得截断，所以篇幅略长。

-----
以下是关于文中涉及**门部件**的一些介绍。

### 逻辑电路
**逻辑电路（Logic Circuit）** 可认为是一个会返回输出结果的装置，输出结果由输入信号以及逻辑门的规则决定。举个例子，当且仅当两个输入到 **与门** 的信号都为 '真'/'开'/'激活的'/'高电平'/'1'时，与门才将'真'/'开'/'激活的'/'高电平'/'1'作为输出结果。

有许多不同种类的逻辑门，每种逻辑门都有很多不同的设计方案。不同的方案也各自有优缺点，如电路规模、复杂度、运行速度、维护难度以及花费等。下面的章节会对每一种逻辑门列出很多不同的设计方案供读者参考

### 逻辑门
[维基百科-逻辑门](https://zh.wikipedia.org/wiki/%E9%82%8F%E8%BC%AF%E9%96%98)

**逻辑门**是在[集成电路](https://zh.wikipedia.org/wiki/%E9%9B%86%E6%88%90%E9%9B%BB%E8%B7%AF "集成电路")上的基本组件。简单的逻辑门可由[晶体管](https://zh.wikipedia.org/wiki/%E6%99%B6%E4%BD%93%E7%AE%A1 "晶体管")组成。这些晶体管的组合可以使代表两种信号的高低电平在通过它们之后产生高电平或者低电平的[信号](https://zh.wikipedia.org/wiki/%E4%BF%A1%E5%8F%B7 "信号")。高、低电平可以分别代表逻辑上的“真”与“假”或[二进制](https://zh.wikipedia.org/wiki/%E4%BA%8C%E8%BF%9B%E5%88%B6 "二进制")当中的1和0，从而实现逻辑运算。常见的逻辑门包括“与”闸，“或”闸，“非”闸，“异或”闸（也称：互斥或）等等。

逻辑门是组成数字系统的基本结构，通常组合使用实现更为复杂的逻辑运算。一些厂商通过逻辑门的组合生产一些实用、小型、集成的产品，例如[可编程逻辑器件](https://zh.wikipedia.org/wiki/%E5%8F%AF%E7%A8%8B%E5%BC%8F%E9%82%8F%E8%BC%AF%E8%A3%9D%E7%BD%AE "可编程逻辑器件")等

-----

**三体化逻辑门输出表**

> “白色代表0，黑色代表1。
> 入(1)、入(2)代表输入，竖着看，每一列代表不同的输入信息，执行逻辑运算方法产生不同的输出方式。
> 逻辑门（Logic Gate）为最基本的逻辑电路。分别有：与门、或门、非门、与非门、或非门、异或门、同或门、蕴含门。

| 入(1) | 黑 | 黑 | 白 | 白 |
|--|--|--|--|--|
| **入(2)** | **黑** | **白** | **黑** | **白** |
| 与门 | 黑 | 白 | 白 | 白 |
| 或门 | 黑 | 黑 | 黑 | 白 |
| 非入(1) | 白 | 白 | 黑 | 黑 |
| 与非门 | 白 | 黑 | 黑 | 黑 |
| 或非门 | 白 | 白 | 白 | 黑 |
| 异或门 | 白 | 黑 | 黑 | 白 |
| 同或门 | 黑 | 白 | 白 | 黑 |
| 同或门 | 黑 | 白 | 黑 | 黑 |

值得注意的是**非门**，只需要一个输入就行了。
如果是在三体细写，估计会这样写：

  
    四根旗子二白二黑，冯·诺伊曼分给两名士兵（出和入），每人一白一黑，
    说：“白色代表0，黑色代表1。
    好，现在听我说，出，你转身看着入，
    如果他举黑旗，你就举白旗。
    如果他举白旗，你就举黑旗。”



END